(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerpolicy&&(c.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?c.credentials="include":r.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(r){if(r.ep)return;r.ep=!0;const c=s(r);fetch(r.href,c)}})();var Y={exports:{}},a={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j=Symbol.for("react.element"),ue=Symbol.for("react.portal"),ce=Symbol.for("react.fragment"),le=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),de=Symbol.for("react.provider"),fe=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),me=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),W=Symbol.iterator;function ge(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,Z={};function x(e,t,s){this.props=e,this.context=t,this.refs=Z,this.updater=s||Q}x.prototype.isReactComponent={};x.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ee(){}ee.prototype=x.prototype;function V(e,t,s){this.props=e,this.context=t,this.refs=Z,this.updater=s||Q}var q=V.prototype=new ee;q.constructor=V;X(q,x.prototype);q.isPureReactComponent=!0;var J=Array.isArray,te=Object.prototype.hasOwnProperty,G={current:null},ne={key:!0,ref:!0,__self:!0,__source:!0};function re(e,t,s){var n,r={},c=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(c=""+t.key),t)te.call(t,n)&&!ne.hasOwnProperty(n)&&(r[n]=t[n]);var f=arguments.length-2;if(f===1)r.children=s;else if(1<f){for(var d=Array(f),v=0;v<f;v++)d[v]=arguments[v+2];r.children=d}if(e&&e.defaultProps)for(n in f=e.defaultProps,f)r[n]===void 0&&(r[n]=f[n]);return{$$typeof:j,type:e,key:c,ref:i,props:r,_owner:G.current}}function ye(e,t){return{$$typeof:j,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function H(e){return typeof e=="object"&&e!==null&&e.$$typeof===j}function be(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var K=/\/+/g;function U(e,t){return typeof e=="object"&&e!==null&&e.key!=null?be(""+e.key):t.toString(36)}function T(e,t,s,n,r){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(c){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case j:case ue:i=!0}}if(i)return i=e,r=r(i),e=n===""?"."+U(i,0):n,J(r)?(s="",e!=null&&(s=e.replace(K,"$&/")+"/"),T(r,t,s,"",function(v){return v})):r!=null&&(H(r)&&(r=ye(r,s+(!r.key||i&&i.key===r.key?"":(""+r.key).replace(K,"$&/")+"/")+e)),t.push(r)),1;if(i=0,n=n===""?".":n+":",J(e))for(var f=0;f<e.length;f++){c=e[f];var d=n+U(c,f);i+=T(c,t,s,d,r)}else if(d=ge(e),typeof d=="function")for(e=d.call(e),f=0;!(c=e.next()).done;)c=c.value,d=n+U(c,f++),i+=T(c,t,s,d,r);else if(c==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function I(e,t,s){if(e==null)return e;var n=[],r=0;return T(e,n,"","",function(c){return t.call(s,c,r++)}),n}function Re(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var b={current:null},F={transition:null},_e={ReactCurrentDispatcher:b,ReactCurrentBatchConfig:F,ReactCurrentOwner:G};a.Children={map:I,forEach:function(e,t,s){I(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(t){return t})||[]},only:function(e){if(!H(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};a.Component=x;a.Fragment=ce;a.Profiler=ae;a.PureComponent=V;a.StrictMode=le;a.Suspense=pe;a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_e;a.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=X({},e.props),r=e.key,c=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(c=t.ref,i=G.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(d in t)te.call(t,d)&&!ne.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&f!==void 0?f[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=s;else if(1<d){f=Array(d);for(var v=0;v<d;v++)f[v]=arguments[v+2];n.children=f}return{$$typeof:j,type:e.type,key:r,ref:c,props:n,_owner:i}};a.createContext=function(e){return e={$$typeof:fe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:de,_context:e},e.Consumer=e};a.createElement=re;a.createFactory=function(e){var t=re.bind(null,e);return t.type=e,t};a.createRef=function(){return{current:null}};a.forwardRef=function(e){return{$$typeof:he,render:e}};a.isValidElement=H;a.lazy=function(e){return{$$typeof:ve,_payload:{_status:-1,_result:e},_init:Re}};a.memo=function(e,t){return{$$typeof:me,type:e,compare:t===void 0?null:t}};a.startTransition=function(e){var t=F.transition;F.transition={};try{e()}finally{F.transition=t}};a.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};a.useCallback=function(e,t){return b.current.useCallback(e,t)};a.useContext=function(e){return b.current.useContext(e)};a.useDebugValue=function(){};a.useDeferredValue=function(e){return b.current.useDeferredValue(e)};a.useEffect=function(e,t){return b.current.useEffect(e,t)};a.useId=function(){return b.current.useId()};a.useImperativeHandle=function(e,t,s){return b.current.useImperativeHandle(e,t,s)};a.useInsertionEffect=function(e,t){return b.current.useInsertionEffect(e,t)};a.useLayoutEffect=function(e,t){return b.current.useLayoutEffect(e,t)};a.useMemo=function(e,t){return b.current.useMemo(e,t)};a.useReducer=function(e,t,s){return b.current.useReducer(e,t,s)};a.useRef=function(e){return b.current.useRef(e)};a.useState=function(e){return b.current.useState(e)};a.useSyncExternalStore=function(e,t,s){return b.current.useSyncExternalStore(e,t,s)};a.useTransition=function(){return b.current.useTransition()};a.version="18.2.0";(function(e){e.exports=a})(Y);var M={exports:{}},P={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ke=Y.exports,Se=Symbol.for("react.element"),we=Symbol.for("react.fragment"),Ne=Object.prototype.hasOwnProperty,Ce=ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ee={key:!0,ref:!0,__self:!0,__source:!0};function oe(e,t,s){var n,r={},c=null,i=null;s!==void 0&&(c=""+s),t.key!==void 0&&(c=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)Ne.call(t,n)&&!Ee.hasOwnProperty(n)&&(r[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)r[n]===void 0&&(r[n]=t[n]);return{$$typeof:Se,type:e,key:c,ref:i,props:r,_owner:Ce.current}}P.Fragment=we;P.jsx=oe;P.jsxs=oe;(function(e){e.exports=P})(M);const N=M.exports.Fragment,o=M.exports.jsx,g=M.exports.jsxs;function xe(e){const{handleNavClick:t}=e;return g("nav",{className:"navbar",children:[o("img",{className:"logo",src:"src/assets/logo.jpg"}),o("button",{className:"navbar-library",onClick:()=>t("library"),children:"The Library"}),o("button",{className:"navbar-funFact",onClick:()=>t("funFact"),children:"Fun Fact"}),o("button",{className:"navbar-about",onClick:()=>t("about"),children:"About"})]})}function $e(e){const{handleSubmit:t}=e,[s,n]=React.useState(0);return e.generatorType,g("div",{className:"action",children:[o("button",{className:"filterButton",onClick:()=>n(1),children:"Single Suggestion"}),o("button",{className:"filterButton",onClick:()=>n(10),children:"Choose 10"}),o("br",{}),o("button",{className:"filterButton",onClick:()=>t(s),children:"Submit"})]})}function je(e){const{getFilters:t}=e,{type:s}=e;return g(N,{children:[g("div",{className:"selectFilter",children:[o("label",{className:"filterLabel",children:"Decade"}),g("select",{onChange:n=>t(n,"decade"),id:"decade",name:"decade",value:e.decade,children:[o("option",{value:void 0,children:"none"}),o("option",{value:"2020",children:"2020"}),o("option",{value:"2010",children:"2010"}),o("option",{value:"2000",children:"2000"}),o("option",{value:"1990",children:"1990"}),o("option",{value:"1980",children:"1980"}),o("option",{value:"1970",children:"1970"}),o("option",{value:"1960",children:"1960"}),o("option",{value:"1950",children:"1950"}),o("option",{value:"1940",children:"1940"})]})]}),s!=="books"&&g("div",{className:"selectFilter",children:[o("label",{className:"filterLabel",children:"Genre"}),g("select",{onChange:n=>t(n,"genre"),id:"genre",name:"genre",value:e.genre,children:[o("option",{value:void 0,children:"none"}),o("option",{value:"10749",children:"Romance"}),o("option",{value:"28",children:"Action"}),o("option",{value:"35",children:"Comedy"}),o("option",{value:"53",children:"Thriller"}),o("option",{value:"27",children:"Horror"}),o("option",{value:"18",children:"Drama"})]})]}),s==="movies"&&g("div",{className:"selectFilter",children:[o("label",{className:"filterLabel",children:"Max Runtime"}),o("input",{type:"range",min:"10",step:"10",max:"180",id:"runtime",className:"runtime",onInput:n=>e.getFilters(n,"runtime"),onChangeCapture:n=>e.getFilters(n,"runtime"),value:e.runtime}),g("label",{className:"filterLabel",children:[e.runtime?e.runtime:""," mins"]})]})]})}function Oe(e){const{className:t,generatorType:s,handleNumberClick:n}=e,r=React.useMemo(()=>{switch(s){case"books":return"Book";case"movies":return"Movie";case"shows":return"TV Show";default:return""}},[s]);return g("div",{className:t,children:[g("h1",{children:[r," Suggestion Generator"]}),!r&&o("h1",{children:"What kind of suggestion would you like?"}),r&&g(N,{children:[o(je,{type:s,getFilters:e.getFilters,decade:e.decade,runtime:e.runtime,genre:e.genre}),o($e,{handleNumberClick:n,handleSubmit:e.handleSubmit})]})]})}function L(e){const{title:t,img:s,year:n,summary:r,movieId:c,runtime:i,isBook:f,bookUrl:d}=e,v=`movie-${c}`,w=s||"../../images/noimage.jpeg";function S(){switch(!0){case!!d:return window.open(d);default:return}}function R(){switch(!0){case!!d:return"Go to Book";default:return"No Link Available"}}return g("div",{id:v,className:"singleResult",children:[o("h1",{children:t}),g("h2",{children:[n," ",i?`(${i} mins)`:""]}),f?o("input",{type:"button",onClick:()=>S(),value:R()}):o("img",{src:w}),o("p",{children:r})]})}function Ie(e){const{numResults:t}=e;return o(N,{children:o("p",{className:"reporter",children:`${t} ${t===1?"result":"results"} found`})})}function Le(e){const{number:t,genre:s,decade:n,runtime:r,update:c,type:i,shouldReport:f}=e,[d,v]=React.useState([]);React.useState(!1);const[w,S]=React.useState(0),R=React.useRef(void 0),_=React.useRef(void 0),k=React.useRef(void 0),$=React.useRef(void 0),O=React.useRef(o(L,{title:"No Results Found!"}));React.useEffect(()=>{let p=1,h=[];const u=[],m=new Map;if(i==="movies"){if(R.current)return;for(console.log("movies");p<14;){const l=fetch(`https://api.themoviedb.org/3/keyword/264386-lesbian/movies?api_key=d8cb9be625954d1f4e586efec42d4e79&language=en-US&include_adult=false&page=${p}`);h.push(l),p++}Promise.all(h).then(l=>{for(const y of l)y.json().then(D=>{if(D.id){u.push(...D.results);for(const se of D.results)fetch(`https://api.themoviedb.org/3/movie/${se.id}?api_key=d8cb9be625954d1f4e586efec42d4e79&language=en-US`).then(C=>C.json()).then(C=>{m.set(C.title,C.runtime)}).catch(C=>{const ie=" ERROR: "+C;console.log(ie)})}});$.current=m,R.current=u}).catch(l=>{const y=" ERROR: "+l;console.log(y)})}else if(i==="shows"){if(_.current){console.log("no show data");return}console.log("find show data"),fetch("https://api.themoviedb.org/3/list/8231707?api_key=d8cb9be625954d1f4e586efec42d4e79&language=en-US").then(l=>l.json()).then(l=>{u.push(...l.items)}).catch(l=>{const y=" ERROR: "+l;console.log(y)}),_.current=u}else if(i==="books"){if(k.current)return;fetch("https://www.loc.gov/books/?q=lesbian&fo=json").then(l=>l.json()).then(l=>{u.push(...l.results)}).catch(l=>{const y=" ERROR: "+l;console.log(y)}),k.current=u}},[i]);function A(){const p=[],h=[];for(;p.length+h.length<(i==="movies"?R.current.length:i==="shows"?_.current.length:k.current.length)&&h.length<t;){const u=z(h,p),m=i==="movies"?R.current[u]:i==="shows"?_.current[u]:k.current[u],l=B(m);console.log("is valid entry? : "+l),l&&!h.includes(m)?h.push(m):p.includes(m)||p.push(m)}return h}function B(p){if(n){const h=parseInt(n),u=h+9,m=parseInt(i==="movies"?p.release_date:i==="shows"?p.first_air_date:p.date);if(!m||m<h||m>u)return!1}if(i!=="books"&&s&&(console.log("genre ids"),!p.genre_ids.includes(parseInt(s))))return console.log("genre: "+s),console.log("genre ids: "+p.genre_ids.toString()),!1;if(i==="movies"&&r){const h=$.current.get(p.title);if(!h||parseInt(h)>parseInt(r))return!1}return!0}function z(p,h){let u;const m=i==="movies"?R.current.length:i==="shows"?_.current.length:k.current.length;do u=Math.floor(Math.random()*m),console.log("find index");while(p.includes(i==="movies"?R.current[u]:i==="shows"?_.current[u]:k.current[u])&&h.includes(i==="movies"?R.current[u]:i==="shows"?_.current[u]:k.current[u]));return u}return React.useEffect(()=>{if(t>0){const p=A();let h=[];i==="movies"?h=p.map(u=>{const m=u.poster_path?`https://image.tmdb.org/t/p/w500${u.poster_path}`:"";return o(L,{title:u.title,img:m,year:u.release_date.substring(0,4),summary:u.overview,movieId:u.id,runtime:$.current.get(u.title)})}):i==="shows"?h=p.map(u=>{const m=u.backdrop_path?`https://image.tmdb.org/t/p/w500${u.backdrop_path}`:"";return o(L,{title:u.name,img:m,year:u.first_air_date.substring(0,4),summary:u.overview,movieId:u.id})}):i==="books"&&(h=p.map(u=>o(L,{title:u.title,year:u.date,summary:u.description,isBook:!0,bookUrl:u.id}))),f&&h.length===0?(S(0),h.push(O.current)):(v(h),S(h.length))}return()=>{console.log("done")}},[R.current,_.current,k.current,t,c]),g("div",{className:"results",children:[f&&o(Ie,{numResults:w}),t===0&&o("h1",{children:"Select Suggestions"}),(f&&w)>0&&d]})}const E={Books:"Books",Movies:"Movies",Shows:"Shows"};function Te(e){const{type:t,handleClick:s}=e,n=t+"-tab",r=React.useMemo(()=>{switch(t){case E.Books.toLowerCase():return E.Books;case E.Movies.toLowerCase():return E.Movies;case E.Shows.toLowerCase():return E.Shows;default:return""}},[]);return o(N,{children:o("button",{className:n,onClick:s,children:r})})}function Fe(e){return g(N,{children:[o("h1",{className:"aboutHeader",children:"About the Lesbian Library"}),o("p",{className:"aboutText",children:"The Lesbian Library is a curated media suggestion generator that delivers movie, televsion show, and book suggestions. It utilizes the Library of Congress and Movie DB APIs."})]})}function Me(){const[e,t]=React.useState(""),[s,n]=React.useState(0),[r,c]=React.useState(!1),[i,f]=React.useState(void 0),[d,v]=React.useState(void 0),[w,S]=React.useState(180),[R,_]=React.useState(!1),[k,$]=React.useState("library"),O=["library","funFact","about"];function A(l){$(l)}function B(l){t(l),f(void 0),v(void 0),_(!1),s!==0&&m(),S(l==="movies"?180:void 0)}const p=[{type:"books"},{type:"movies"},{type:"shows"}].map(l=>o(Te,{type:l.type,handleClick:()=>B(l.type)}));function h(l){n(l),c(y=>!y),_(!0),console.log("submit")}function u(l,y){switch(y){case"decade":typeof l.target.value=="string"?f(l.target.value):f(void 0),console.log("set decade");break;case"genre":typeof l.target.value=="string"?v(l.target.value):v(void 0),console.log(d);break;case"runtime":S(l.target.value),console.log("Runtime change: "+l.target.value)}}function m(){let l=document.getElementsByTagName("select");for(let y=0;y<l.length;y++)l[y].selectedIndex=0}return o(N,{children:g("div",{className:"App",children:[o("div",{children:o(xe,{handleNavClick:A})}),k===O[0]&&o("div",{className:"mainContainer",children:g(N,{children:[o("div",{className:"tabs",children:p}),o("div",{className:"placeholder"}),o(Oe,{className:"generator",generatorType:e,handleSubmit:h,getFilters:u,decade:i,runtime:w,genre:d}),o("div",{className:"resultsBox",children:o(Le,{type:e,number:s,update:r,decade:i,runtime:w,genre:d,shouldReport:R})})]})}),k===O[2]&&o(Fe,{})]})})}const Pe=ReactDOM.createRoot(document.querySelector("#maincontent"));Pe.render(o(Me,{}));
